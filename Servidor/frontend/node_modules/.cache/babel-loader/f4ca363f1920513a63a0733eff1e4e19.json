{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projetos\\\\ProjetoCasa\\\\frontend\\\\src\\\\components\\\\Item\\\\ItemInfo.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Input } from 'antd';\nimport axios from 'axios';\nimport { DeleteOutlined, FileTextOutlined, FormOutlined } from \"@ant-design/icons\";\nimport { Select } from 'antd';\nconst layout = {\n  labelCol: {\n    span: 2\n  }\n};\nconst {\n  Option\n} = Select; //Individual information for each Item (View button)\n\nclass ItemInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      item: [],\n      name: \"\",\n      numero: \"\",\n      stock: \"\",\n      notas: \"\"\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleDropChange = this.handleDropChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  } // Get info about an specific item\n\n\n  componentDidMount() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    axios.get(`http://localhost:3000/api/item/${params.itemId}`).then(({\n      data\n    }) => {\n      const item = data.results[0];\n      this.setState({\n        item: item,\n        name: item.name,\n        numero: item.numero,\n        stock: item.stock,\n        notas: item.notas\n      });\n    });\n  } //Edit item information\n\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleDropChange(event) {\n    console.log(event);\n    this.setState({\n      name: event\n    });\n  } //Remove item\n\n\n  handleDelete() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    axios.delete(`http://localhost:3000/api/item/${params.itemId}`).then(() => {\n      console.log('item deleted');\n      this.props.history.push('/item');\n    });\n  } //Submit and update item\n\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    const item = {\n      name: this.state.name,\n      numero: this.state.numero,\n      stock: this.state.stock,\n      notas: this.state.notas\n    };\n    axios.post(`http://localhost:3000/api/item/${params.itemId}`, item, {\n      method: 'POST',\n      body: JSON.stringify(this.state),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(({\n      data: item\n    }) => {\n      console.log('Item updated: ', item);\n      const {\n        history\n      } = this.props;\n      history.push('/item');\n    });\n  } //Close page and get back to Items.js\n\n\n  handleClose(e) {\n    e.preventDefault();\n    this.props.history.push('/item');\n  } //Edit form\n\n\n  render() {\n    const {\n      item\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, this.state.name), /*#__PURE__*/React.createElement(Form, Object.assign({}, layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        float: 'right',\n        margin: '5px'\n      },\n      type: \"danger\",\n      onClick: this.handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n      style: {\n        display: 'inline-block',\n        verticalAlign: 'middle'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 112\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Local de Entrega\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      value: this.state.name,\n      onChange: this.handleDropChange,\n      showSearch: true,\n      style: {\n        display: 'flex'\n      },\n      placeholder: \"Search to Select\",\n      optionFilterProp: \"children\",\n      filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n      filterSort: (optionA, optionB) => optionA.children.toLowerCase().localeCompare(optionB.children.toLowerCase()),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Option, {\n      value: \"Baixa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, \"Baixa\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"Ter\\xE7o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, \"Ter\\xE7o\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"Ju\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, \"JU\"))), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"N\\xBA Refei\\xE7\\xF5es\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      prefix: /*#__PURE__*/React.createElement(FileTextOutlined, {\n        className: \"site-form-item-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 29\n        }\n      }),\n      type: \"text\",\n      name: \"numero\",\n      value: this.state.numero,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 18\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Stock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      prefix: /*#__PURE__*/React.createElement(FileTextOutlined, {\n        className: \"site-form-item-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }\n      }),\n      type: \"text\",\n      name: \"stock\",\n      value: this.state.stock,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 18\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"Notas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      prefix: /*#__PURE__*/React.createElement(FileTextOutlined, {\n        className: \"site-form-item-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }\n      }),\n      type: \"text\",\n      name: \"notas\",\n      value: this.state.notas,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 18\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"float-right mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleClose,\n      type: \"primary\",\n      danger: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      style: {\n        background: \"green\",\n        marginLeft: \"5px\",\n        borderColor: \"green\",\n        color: \"white\"\n      },\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, \"Update Item\")));\n  }\n\n}\n\nexport default ItemInfo;","map":{"version":3,"sources":["C:/Projetos/ProjetoCasa/frontend/src/components/Item/ItemInfo.js"],"names":["React","Component","Button","Form","Input","axios","DeleteOutlined","FileTextOutlined","FormOutlined","Select","layout","labelCol","span","Option","ItemInfo","constructor","props","state","item","name","numero","stock","notas","handleDelete","bind","handleClose","handleChange","handleDropChange","handleSubmit","componentDidMount","match","params","get","itemId","then","data","results","setState","event","target","value","console","log","delete","history","push","e","preventDefault","post","method","body","JSON","stringify","headers","render","display","justifyContent","float","margin","verticalAlign","input","option","children","toLowerCase","indexOf","optionA","optionB","localeCompare","background","marginLeft","borderColor","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Button, Form, Input} from 'antd';\r\nimport axios from 'axios';\r\nimport {DeleteOutlined, FileTextOutlined, FormOutlined} from \"@ant-design/icons\";\r\nimport { Select } from 'antd';\r\n\r\nconst layout = {\r\n    labelCol: {\r\n        span: 2,\r\n    }\r\n};\r\n\r\n\r\nconst { Option } = Select;\r\n\r\n//Individual information for each Item (View button)\r\nclass ItemInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            item: [],\r\n            name: \"\", \r\n            numero: \"\",\r\n            stock: \"\",\r\n            notas: \"\",\r\n        };\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleDropChange = this.handleDropChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    // Get info about an specific item\r\n    componentDidMount() {\r\n        const { match: { params } } = this.props;\r\n        axios.get(`http://localhost:3000/api/item/${params.itemId}`)\r\n        .then(({data}) => {\r\n            const item = data.results[0];\r\n            this.setState ({\r\n                item: item,\r\n                name: item.name,\r\n                numero: item.numero,\r\n                stock: item.stock,\r\n                notas: item.notas\r\n              }); \r\n            });\r\n    }\r\n\r\n    //Edit item information\r\n    handleChange(event) {\r\n        this.setState(\r\n            {[event.target.name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    handleDropChange(event) {\r\n        console.log(event)  \r\n        this.setState({name: event});  }\r\n\r\n    //Remove item\r\n    handleDelete() {\r\n        const { match: { params } } = this.props;\r\n        axios.delete(`http://localhost:3000/api/item/${params.itemId}`)\r\n        .then(() => {\r\n            console.log('item deleted');\r\n            this.props.history.push('/item');\r\n        });\r\n    }\r\n\r\n    //Submit and update item\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { match: { params } } = this.props;\r\n        const item = {\r\n            name: this.state.name,\r\n            numero: this.state.numero,\r\n            stock: this.state.stock,\r\n            notas: this.state.notas\r\n        };\r\n        axios.post(`http://localhost:3000/api/item/${params.itemId}`, item,\r\n        {\r\n            method: 'POST',\r\n            body: JSON.stringify(this.state),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(({data: item}) => {\r\n            console.log('Item updated: ', item);\r\n            const { history } = this.props;\r\n            history.push('/item');\r\n        });\r\n    }\r\n\r\n    //Close page and get back to Items.js\r\n    handleClose(e) {\r\n        e.preventDefault();\r\n        this.props.history.push('/item');\r\n    }\r\n\r\n    //Edit form\r\n    render() {\r\n        const { item } = this.state;\r\n        return (\r\n        <div className=\"\">\r\n            <h2 style={{display:'flex', justifyContent: 'center'}}>{this.state.name}</h2>\r\n            <Form {...layout}>\r\n                <Form.Item>\r\n                    {/* Delete item button */}\r\n                    <Button style={{ float: 'right', margin: '5px'}} type=\"danger\" onClick={this.handleDelete}><DeleteOutlined style={{ display: 'inline-block', verticalAlign: 'middle' }} /></Button>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Local de Entrega\"\r\n                >\r\n                <Select\r\n                    value={this.state.name} \r\n                    onChange={this.handleDropChange}\r\n                    showSearch\r\n                    style={{ display:'flex' }}\r\n                    placeholder=\"Search to Select\"\r\n                    optionFilterProp=\"children\"\r\n                    filterOption={(input, option) =>\r\n                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                    }\r\n                    filterSort={(optionA, optionB) =>\r\n                    optionA.children.toLowerCase().localeCompare(optionB.children.toLowerCase())\r\n                    }>\r\n                    <Option value=\"Baixa\">Baixa</Option>\r\n                    <Option value=\"Terço\">Terço</Option>\r\n                    <Option value=\"Ju\">JU</Option>\r\n                </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Nº Refeições\"\r\n                ><Input\r\n                    prefix={<FileTextOutlined className=\"site-form-item-icon\" />}\r\n                    type=\"text\"\r\n                    name=\"numero\"\r\n                    value={this.state.numero}\r\n                    onChange={this.handleChange} />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Stock\"\r\n                ><Input\r\n                    prefix={<FileTextOutlined className=\"site-form-item-icon\" />}\r\n                    type=\"text\"\r\n                    name=\"stock\"\r\n                    value={this.state.stock}\r\n                    onChange={this.handleChange} />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Notas\"\r\n                ><Input\r\n                    prefix={<FileTextOutlined className=\"site-form-item-icon\" />}\r\n                    type=\"text\"\r\n                    name=\"notas\"\r\n                    value={this.state.notas}\r\n                    onChange={this.handleChange} />\r\n                </Form.Item>\r\n            </Form>\r\n            <div className=\"float-right mt-5\">\r\n                <Button onClick={this.handleClose} type=\"primary\" danger>Cancel</Button>\r\n                <Button onClick={this.handleSubmit} style={{ background: \"green\", marginLeft: \"5px\", borderColor: \"green\", color: \"white\"}} type=\"submit\">Update Item</Button>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ItemInfo;\r\n"]},"metadata":{},"sourceType":"module"}